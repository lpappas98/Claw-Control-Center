module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},79826,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(8876);function d(){return Date.now()}async function e(a){var e,f;let g=(0,c.firestoreDb)(),h=(0,b.doc)(g,"users",a.uid),i=await (0,b.getDoc)(h);if(!i.exists()){let c=(e=a.uid,`ws_${e}`),f=(0,b.doc)(g,"workspaces",c);return await (0,b.setDoc)(f,{id:c,name:`${a.displayName??"My"} Workspace`,createdAt:d(),updatedAt:d()}),await (0,b.setDoc)((0,b.doc)(g,"workspaces",c,"members",a.uid),{uid:a.uid,role:"owner",createdAt:d()}),await (0,b.setDoc)(h,{uid:a.uid,email:a.email??null,displayName:a.displayName??null,photoURL:a.photoURL??null,defaultWorkspaceId:c,createdAt:d(),updatedAt:d()}),{defaultWorkspaceId:c}}let j=i.data();if(!j.defaultWorkspaceId){let c=(f=a.uid,`ws_${f}`);return await (0,b.updateDoc)(h,{defaultWorkspaceId:c,updatedAt:d()}),{defaultWorkspaceId:c}}return{defaultWorkspaceId:j.defaultWorkspaceId}}async function f(a){let d=(0,c.firestoreDb)(),e=(0,b.query)((0,b.collection)(d,"workspaces",a,"instances"),(0,b.limit)(1));return!(await (0,b.getDocs)(e)).empty}a.s(["ensureUserAndWorkspace",()=>e,"workspaceHasInstance",()=>f])},69583,a=>{"use strict";var b=a.i(72131);a.i(30485),a.i(31052),a.i(8876),a.i(79826);function c(){let[a,c]=(0,b.useState)(()=>"ws_e2e_user"),[d,e]=(0,b.useState)(()=>!0);return(0,b.useEffect)(()=>{},[]),{workspaceId:a,authReady:d}}a.s(["useWorkspace",()=>c])},46840,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(8876);async function d(a,d,e){let f;return(await (0,b.addDoc)((f=(0,c.firestoreDb)(),(0,b.collection)(f,"workspaces",a,"boards",d,"cards")),{...e,boardId:d,order:Date.now(),createdAt:Date.now(),updatedAt:Date.now()})).id}async function e(a,d,e,f){let g=(0,c.firestoreDb)();await (0,b.updateDoc)((0,b.doc)(g,"workspaces",a,"boards",d,"cards",e),{...f,updatedAt:Date.now()})}a.s(["createCard",()=>d,"updateCard",()=>e])},32455,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(8876);function d(a,d,e){let f=(0,c.firestoreDb)(),g=(0,b.query)((0,b.collection)(f,"workspaces",a,"boards",d,"cards"),(0,b.orderBy)("order","asc"));return(0,b.onSnapshot)(g,a=>{e(a.docs.map(a=>({id:a.id,...a.data()})))})}a.s(["subscribeCards",()=>d])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f334d35f._.js.map